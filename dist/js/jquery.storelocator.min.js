/*! jQuery Google Maps Store Locator - v1.4.9 - 2014-08-11
* http://www.bjornblog.com/web/jquery-store-locator-plugin
* Copyright (c) 2014 Bjorn Holine; Licensed MIT */

!function(a,b,c){"use strict";function d(b,c){this.element=b,this.settings=a.extend({},A,c),this._defaults=A,this._name=e,this.init()}var e="storeLocator";if("undefined"==typeof a.fn[e]){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=[],u=[],v=[],w=[],x={},y={},z={},A={mapDiv:"map",listDiv:"bh-sl-loc-list",formContainerDiv:"bh-sl-form-container",formID:"user-location",addressID:"address",nameID:"name",regionID:"region",mapSettings:{zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP},pinColor:"fe7569",pinTextColor:"000000",lengthUnit:"m",storeLimit:26,distanceAlert:60,dataType:"xml",dataLocation:"data/locations.xml",xmlElement:"marker",listColor1:"ffffff",listColor2:"eeeeee",originMarker:!1,originpinColor:"blue",bounceMarker:!0,slideMap:!0,modalWindow:!1,overlayDiv:"bh-sl-overlay",modalWindowDiv:"bh-sl-modal-window",modalContentDiv:"bh-sl-modal-content",closeIconDiv:"bh-sl-close-icon",defaultLoc:!1,defaultLat:"",defaultLng:"",autoGeocode:!1,maxDistance:!1,maxDistanceID:"maxdistance",fullMapStart:!1,noForm:!1,loading:!1,loadingDiv:"bh-sl-loading",featuredLocations:!1,pagination:!1,locationsPerPage:10,inlineDirections:!1,nameSearch:!1,nameAttribute:null,infowindowTemplatePath:"templates/infowindow-description.html",listTemplatePath:"templates/location-list-description.html",KMLinfowindowTemplatePath:"templates/kml-infowindow-description.html",KMLlistTemplatePath:"templates/kml-location-list-description.html",listTemplateID:null,infowindowTemplateID:null,taxonomyFilters:null,querystringParams:!1,callbackBeforeSend:null,callbackSuccess:null,callbackModalOpen:null,callbackModalClose:null,jsonpCallback:null,geocodeErrorAlert:"Geocode was not successful for the following reason: ",addressErrorAlert:"Unable to find address",autoGeocodeErrorAlert:"Automatic location detection failed. Please fill in your address or zip code.",distanceErrorAlert:"Unfortunately, our closest location is more than ",mileLang:"mile",milesLang:"miles",kilometerLang:"kilometer",kilometersLang:"kilometers",noResultsTitle:"No results",noResultsDesc:"No locations were found with the given criteria. Please modify your selections or input."};a.extend(d.prototype,{reset:function(){u=[],t=[],v=[],w=[],a(c).off("click","."+this.settings.listDiv+" li")},geoCodeCalcToRadian:function(a){return a*(Math.PI/180)},geoCodeCalcDiffRadian:function(a,b){return this.geoCodeCalcToRadian(b)-this.geoCodeCalcToRadian(a)},geoCodeCalcCalcDistance:function(a,b,c,d,e){return 2*e*Math.asin(Math.min(1,Math.sqrt(Math.pow(Math.sin(this.geoCodeCalcDiffRadian(a,c)/2),2)+Math.cos(this.geoCodeCalcToRadian(a))*Math.cos(this.geoCodeCalcToRadian(c))*Math.pow(Math.sin(this.geoCodeCalcDiffRadian(b,d)/2),2))))},init:function(){z.EarthRadius="km"===this.settings.lengthUnit?6367:3956,i="kml"===this.settings.dataType?"xml":this.settings.dataType,this.settings.inlineDirections===!0&&(r=new google.maps.DirectionsRenderer,s=new google.maps.DirectionsService,a("."+this.settings.listDiv).prepend('<div class="bh-sl-directions-panel"></div>')),l=this.settings.mapSettings.zoom,Handlebars.registerHelper("niceURL",function(a){return a.replace("https://","").replace("http://","")}),null!==this.settings.taxonomyFilters&&this.taxonomyFiltering(),this.settings.modalWindow===!0&&(f.wrap('<div class="'+this.settings.overlayDiv+'"><div class="'+this.settings.modalWindowDiv+'"><div class="'+this.settings.modalContentDiv+'">'),a("."+this.settings.modalWindowDiv).prepend('<div class="'+this.settings.closeIconDiv+'"></div>'),a("."+this.settings.overlayDiv).hide()),this.loadTemplates()},getQueryString:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},loadTemplates:function(){var b,c=this;"kml"===this.settings.dataType&&null===this.settings.listTemplateID&&null===this.settings.infowindowTemplateID?a.when(a.get(this.settings.KMLinfowindowTemplatePath,function(a){b=a,h=Handlebars.compile(b)}),a.get(this.settings.KMLlistTemplatePath,function(a){b=a,g=Handlebars.compile(b)})).then(function(){c.locator()},function(){}):null!==this.settings.listTemplateID&&null!==this.settings.infowindowTemplateID?(h=Handlebars.compile(a(this.settings.infowindowTemplateID).html()),g=Handlebars.compile(a(this.settings.listTemplateID).html()),c.locator()):a.when(a.get(this.settings.infowindowTemplatePath,function(a){b=a,h=Handlebars.compile(b)}),a.get(this.settings.listTemplatePath,function(a){b=a,g=Handlebars.compile(b)})).then(function(){c.locator()},function(){})},locator:function(){this.settings.slideMap===!0&&f.hide(),this.start(),this.formEventHandler()},getFormValues:function(b){if(b.preventDefault(),this.settings.maxDistance===!0){var c=a("#"+this.settings.maxDistanceID).val();this.processForm(c)}else this.processForm()},formEventHandler:function(){var b=this;this.settings.noForm===!0?(a(c).on("click","."+this.settings.formContainerDiv+" button",function(a){b.getFormValues(a)}),a(c).on("keyup",function(c){13===c.keyCode&&a("#"+b.settings.inputID).is(":focus")&&b.getFormValues(c)})):a(c).on("submit","#"+this.settings.formID,function(a){b.getFormValues(a)})},getData:function(b,c,d){var e=a.Deferred();return this.settings.callbackBeforeSend&&this.settings.callbackBeforeSend.call(this),a.ajax({type:"GET",url:this.settings.dataLocation+("jsonp"===this.settings.dataType?(this.settings.dataLocation.match(/\?/)?"&":"?")+"callback=?":""),data:{origLat:b,origLng:c,origAddress:d},dataType:i,jsonpCallback:"jsonp"===this.settings.dataType?this.settings.jsonpCallback:null}).done(function(a){e.resolve(a)}).fail(e.reject),e.promise()},countFilters:function(){var a=0;if(!this.isEmptyObject(x))for(var b in x)x.hasOwnProperty(b)&&(a+=x[b].length);return a},checkFilters:function(){a.each(this.settings.taxonomyFilters,function(b,c){a(c+" input[type=checkbox]").each(function(){if(a(this).prop("checked")){var c=a(this).attr("id");-1===x[b].indexOf(c)&&x[b].push(c)}}),a(c+" select").each(function(){var c=a(this).attr("id");-1===x[b].indexOf(c)&&x[b].push(c)})})},getFilterKey:function(a){for(var b in this.settings.taxonomyFilters)if(this.settings.taxonomyFilters.hasOwnProperty(b))for(var c=0;c<this.settings.taxonomyFilters[b].length;c++)if(this.settings.taxonomyFilters[b]===a)return b},start:function(){var a=this,b={};if(this.settings.defaultLoc===!0){var c=new this.reverseGoogleGeocode,d=new google.maps.LatLng(this.settings.defaultLat,this.settings.defaultLng);c.geocode({latLng:d},function(c){if(null!==c){var d=c.address;b.lat=a.settings.defaultLat,b.lng=a.settings.defaultLng,b.origin=d,a.mapping(b)}else alert(a.settings.addressErrorAlert)})}this.settings.fullMapStart===!0&&(this.settings.querystringParams===!0&&this.getQueryString(this.settings.addressID)||this.getQueryString(this.settings.nameID)?this.processForm():this.mapping()),this.settings.autoGeocode===!0&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(b){a.autoGeocodeQuery(b)},function(b){a.autoGeocodeError(b)})},googleGeocode:function(){var a=this,b=new google.maps.Geocoder;this.geocode=function(c,d){b.geocode(c,function(b,c){if(c===google.maps.GeocoderStatus.OK){var e={};e.latitude=b[0].geometry.location.lat(),e.longitude=b[0].geometry.location.lng(),d(e)}else alert(a.settings.geocodeErrorAlert+c),d(null)})}},reverseGoogleGeocode:function(){var a=this,b=new google.maps.Geocoder;this.geocode=function(c,d){b.geocode(c,function(b,c){if(c===google.maps.GeocoderStatus.OK){if(b[0]){var e={};e.address=b[0].formatted_address,d(e)}}else alert(a.settings.geocodeErrorAlert+c),d(null)})}},roundNumber:function(a,b){return Math.round(a*Math.pow(10,b))/Math.pow(10,b)},isEmptyObject:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},modalClose:function(){this.settings.callbackModalOpen&&this.settings.callbackModalOpen.call(this),a("."+this.settings.overlayDiv).hide()},createLocationVariables:function(a){var b;for(var c in u[a])u[a].hasOwnProperty(c)&&(b=u[a][c],"distance"===c&&(b=this.roundNumber(b,2)),y[c]=b)},sortNumerically:function(a){a.sort(function(a,b){return a.distance<b.distance?-1:a.distance>b.distance?1:0})},filterData:function(a,b){var c=!0;for(var d in b)new RegExp(b[d].join(""),"i").test(a[d])||(c=!1);return c?!0:void 0},paginationSetup:function(b){if(0===a(".bh-sl-pagination-container ol").length){"undefined"==typeof b&&(b=0);for(var c="",d=0;d<u.length/this.settings.locationsPerPage;d++){var e=d+1;c+=d===b?'<li data-page="'+d+'" class="bh-sl-current">'+e+"</li>":'<li data-page="'+d+'">'+e+"</li>"}a(".bh-sl-pagination-container").append('<ol class="bh-sl-pagination">'+c+"</ol>")}},createMarker:function(a,b,c,d,e){var f,g=new google.maps.MarkerImage("http://mt.googleapis.com/vt/icon/name=icons/spotlight/spotlight-waypoint-b.png&text="+d+"&psize=16&font=fonts/Roboto-Regular.ttf&color=ff333333&ax=44&ay=48");return f=new google.maps.Marker(-1===this.settings.storeLimit||this.settings.storeLimit>26?{position:a,map:e,draggable:!1}:{position:a,map:e,icon:g,draggable:!1})},defineLocationData:function(b,c,d){var e="";this.createLocationVariables(b.get("id"));var f;f=y.distance<=1?"km"===this.settings.lengthUnit?this.settings.kilometerLang:this.settings.mileLang:"km"===this.settings.lengthUnit?this.settings.kilometersLang:this.settings.milesLang;var g=b.get("id");return e=-1===this.settings.storeLimit||this.settings.storeLimit>26?g+1:String.fromCharCode(d>0?"A".charCodeAt(0)+(c+g):"A".charCodeAt(0)+g),{location:[a.extend(y,{markerid:g,marker:e,length:f,origin:n})]}},listSetup:function(b,c,d){var e=this.defineLocationData(b,c,d),f=g(e);a("."+this.settings.listDiv+" ul").append(f)},createInfowindow:function(b,c,d,e,f){var g=this,i=this.defineLocationData(b,e,f),j=h(i);"left"===c?(d.setContent(j),d.open(b.get("map"),b)):google.maps.event.addListener(b,"click",function(){d.setContent(j),d.open(b.get("map"),b),a("."+g.settings.listDiv+" li").removeClass("list-focus");var c=b.get("id");a("."+g.settings.listDiv+" li[data-markerid="+c+"]").addClass("list-focus");var e=a("."+g.settings.listDiv),f=a("."+g.settings.listDiv+" li[data-markerid="+c+"]");a("."+g.settings.listDiv).animate({scrollTop:f.offset().top-e.offset().top+e.scrollTop()})})},autoGeocodeQuery:function(a){var b=this,c={},d=new this.reverseGoogleGeocode,e=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);d.geocode({latLng:e},function(d){if(null!==d){var e=d.address;c.lat=a.coords.latitude,c.lng=a.coords.longitude,c.origin=e,b.mapping(c)}else alert(this.settings.addressErrorAlert)})},autoGeocodeError:function(){alert(this.settings.autoGeocodeErrorAlert)},paginationChange:function(b){var c,d={};this.settings.maxDistance===!0&&(c=a("#"+this.settings.maxDistanceID).val()),this.reset(),d.lat=o,d.lng=p,d.origin=n,d.name=m,d.distance=c,d.page=b,this.mapping(d)},getAddressByMarker:function(a){var b=null;return u[a].address&&(b+=u[a].address+" "),u[a].address2&&(b+=u[a].address2+" "),u[a].city&&(b+=u[a].city+", "),u[a].state&&(b+=u[a].state+" "),u[a].postal&&(b+=u[a].postal+" "),u[a].country&&(b+=u[a].country+" "),b},clearMarkers:function(){for(var a=0;a<u.length;a++)w[a].setMap(null)},directionsRequest:function(b,d,e){var f=this.getAddressByMarker(d);if(f){a("."+this.settings.listDiv+" ul").hide(),this.clearMarkers(),r.setMap(e),r.setPanel(a(".bh-sl-directions-panel").get(0));var g={origin:b,destination:f,travelMode:google.maps.TravelMode.DRIVING};s.route(g,function(a,b){b===google.maps.DirectionsStatus.OK&&r.setDirections(a)}),a("."+this.settings.listDiv).prepend('<div class="bh-sl-close-directions-container"><div class="'+this.settings.closeIconDiv+'"></div></div>')}a(c).off("click","."+this.settings.listDiv+" li .loc-directions a")},closeDirections:function(){a(".bh-sl-close-directions-container").remove(),a("."+this.settings.listDiv+" .adp").remove(),a("."+this.settings.listDiv+" ul").fadeIn(),this.reset(),o&&p&&(this.settings.mapSettings.zoom=0===this.countFilters()?l:0,this.processForm(null)),a(c).off("click","."+this.settings.listDiv+" .bh-sl-close-icon")},processForm:function(b){var c=this,d={};this.settings.querystringParams===!0&&(this.getQueryString(this.settings.addressID)||this.getQueryString(this.settings.nameID))?(n=this.getQueryString(this.settings.addressID),m=this.getQueryString(this.settings.nameID)):(n=a("#"+this.settings.addressID).val(),m=a("#"+this.settings.nameID).val());var e=a("#"+this.settings.regionID).val();if(""===n&&""===m)this.start();else if(""!==n){var f=new this.googleGeocode;f.geocode({address:n,region:e},function(a){null!==a?(o=a.latitude,p=a.longitude,d.lat=o,d.lng=p,d.origin=n,d.name=m,d.distance=b,c.mapping(d)):alert(this.settings.addressErrorAlert)})}else""!==m&&(d.name=m,c.mapping(d))},mapping:function(b){var d,e,g,h,i,l,n,r,s,y,A,B,C=this,D=0;if(this.isEmptyObject(b)||(d=b.lat,e=b.lng,g=b.origin,h=b.name,i=b.distance,l=b.page),a(".bh-sl-noresults").length&&a(".bh-sl-noresults").remove(),google.maps.visualRefresh=!0,"undefined"==typeof l&&(l=0),"undefined"==typeof g&&this.settings.nameSearch===!0)k=C.getData();else{var E=new google.maps.LatLng(d,e);k=C.getData(o,p,g)}k.done(function(a){C.settings.callbackSuccess&&C.settings.callbackSuccess.call(this),j=a}),k.then(function(b){if(C.settings.callbackSuccess&&C.settings.callbackSuccess.call(this),C.settings.fullMapStart===!0&&a("#"+C.settings.mapDiv).hasClass("bh-sl-map-open")===!1?n=!0:C.reset(),a("#"+C.settings.mapDiv).addClass("bh-sl-map-open"),"json"===C.settings.dataType||"jsonp"===C.settings.dataType?a.each(b,function(){var a,b,c={};for(a in this)this.hasOwnProperty(a)&&(b=this[a],c[a]=b);if("undefined"!=typeof g&&(c.distance||(c.distance=C.geoCodeCalcCalcDistance(d,e,c.lat,c.lng,z.EarthRadius))),C.settings.maxDistance===!0&&n!==!0&&null!==i){if(!(c.distance<i))return;u[D]=c}else u[D]=c;D++}):"kml"===C.settings.dataType?a(b).find("Placemark").each(function(){var b={name:a(this).find("name").text(),lat:a(this).find("coordinates").text().split(",")[1],lng:a(this).find("coordinates").text().split(",")[0],description:a(this).find("description").text()};if("undefined"!=typeof g&&(b.distance||(b.distance=C.geoCodeCalcCalcDistance(d,e,b.lat,b.lng,z.EarthRadius))),C.settings.maxDistance===!0&&n!==!0&&i){if(!(b.distance<i))return;u[D]=b}else u[D]=b;D++}):a(b).find(C.settings.xmlElement).each(function(){var b={};if(a.each(this.attributes,function(a,c){b[c.name]=c.value}),"undefined"!=typeof g&&(b.distance||(b.distance=C.geoCodeCalcCalcDistance(d,e,b.lat,b.lng,z.EarthRadius))),C.settings.maxDistance===!0&&n!==!0&&i){if(!(b.distance<i))return;u[D]=b}else u[D]=b;D++}),C.settings.nameSearch===!0&&"undefined"!=typeof m&&(null!==C.settings.nameAttribute?x[C.settings.nameAttribute]=m:x.name=[m]),null!==C.settings.taxonomyFilters||C.settings.nameSearch===!0){var h={};if(a.each(x,function(a,b){if(b.length>0)for(var c=0;c<b.length;c++)h[a]||(h[a]=[]),h[a][c]="(?=.*\\b"+b[c].replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")+"\\b)"}),!C.isEmptyObject(h)){var j=a.grep(u,function(a){return C.filterData(a,h)});u=j}}if(C.isEmptyObject(u)){a("#"+C.settings.mapDiv).hasClass("bh-sl-map-open")&&f.hide();var k=a('<div class="bh-sl-noresults"><div class="bh-sl-noresults-title">'+C.settings.noResultsTitle+'</div><br><div class="bh-sl-noresults-desc">'+C.settings.noResultsDesc+"</div>").hide().fadeIn();return void a("."+C.settings.formContainerDiv).append(k)}"undefined"!=typeof g&&C.sortNumerically(u),C.settings.featuredLocations===!0&&(t=a.grep(u,function(a){return"true"===a.featured}),v=a.grep(u,function(a){return"true"!==a.featured}),u=[],u=t.concat(v));var o="km"===C.settings.lengthUnit?C.settings.kilometersLang:C.settings.milesLang;if(C.settings.maxDistance===!0&&n!==!0&&i){if("undefined"==typeof u[0]||u[0].distance>i)return void alert(C.settings.distanceErrorAlert+i+" "+o)}else-1!==C.settings.distanceAlert&&u[0].distance>C.settings.distanceAlert&&alert(C.settings.distanceErrorAlert+C.settings.distanceAlert+" "+o);if(C.settings.pagination===!0&&C.paginationSetup(),C.settings.slideMap===!0&&f.slideDown(),C.settings.modalWindow===!0&&(C.settings.callbackModalOpen&&C.settings.callbackModalOpen.call(this),a("."+C.settings.overlayDiv).fadeIn(),a(c).on("click","."+C.settings.closeIconDiv+", ."+C.settings.overlayDiv,function(){C.modalClose()}),a(c).on("click","."+C.settings.modalWindowDiv,function(a){a.stopPropagation()}),a(c).on("keyup",function(a){27===a.keyCode&&C.modalClose()})),q=-1===C.settings.storeLimit||u.length<C.settings.storeLimit?u.length:C.settings.storeLimit,C.settings.pagination===!0?(A=C.settings.locationsPerPage,y=l*C.settings.locationsPerPage,u=u.slice(y,y+A),q=u.length):(A=q,y=0),C.settings.fullMapStart===!0&&n===!0||0===C.settings.mapSettings.zoom||"undefined"==typeof g)B=C.settings.mapSettings,s=new google.maps.LatLngBounds;else if(C.settings.pagination===!0){var p=new google.maps.LatLng(u[0].lat,u[0].lng);0===l?(C.settings.mapSettings.center=E,B=C.settings.mapSettings):(C.settings.mapSettings.center=p,B=C.settings.mapSettings)}else C.settings.mapSettings.center=E,B=C.settings.mapSettings;var F=new google.maps.Map(c.getElementById(C.settings.mapDiv),B);f.data(C.settings.mapDiv.replace("#"),F);var G=new google.maps.InfoWindow;C.settings.originMarker===!0&&C.settings.fullMapStart===!1&&(r=new google.maps.Marker({position:E,map:F,icon:"https://maps.google.com/mapfiles/ms/icons/"+C.settings.originpinColor+"-dot.png",draggable:!1})),a(c).on("click",".bh-sl-pagination li",function(){a(".bh-sl-pagination li").attr("class",""),a(this).addClass("bh-sl-current"),C.paginationChange(a(this).attr("data-page"))}),C.settings.inlineDirections===!0&&(a(c).on("click","."+C.settings.listDiv+" li .loc-directions a",function(b){b.preventDefault();var c=a(this).closest("li").attr("data-markerid");C.directionsRequest(g,c,F)}),a(c).on("click","."+C.settings.listDiv+" .bh-sl-close-icon",function(){C.closeDirections()}));for(var H=0;A-1>=H;H++){var I="";I=String.fromCharCode(l>0?"A".charCodeAt(0)+(y+H):"A".charCodeAt(0)+H);var J=new google.maps.LatLng(u[H].lat,u[H].lng);r=C.createMarker(J,u[H].name,u[H].address,I,F),r.set("id",H),w[H]=r,(C.settings.fullMapStart===!0&&n===!0||0===C.settings.mapSettings.zoom||"undefined"==typeof g)&&s.extend(J),C.createInfowindow(r,null,G,y,l)}(C.settings.fullMapStart===!0&&n===!0||0===C.settings.mapSettings.zoom||"undefined"==typeof g)&&F.fitBounds(s),a("."+C.settings.listDiv+" ul").empty(),a(w).each(function(a){var b=(String.fromCharCode("A".charCodeAt(0)+a),w[a]);C.listSetup(b,y,l)}),a(c).on("click","."+C.settings.listDiv+" li",function(){var b=a(this).data("markerid"),c=w[b];a("."+C.settings.listDiv+" li").removeClass("list-focus"),a("."+C.settings.listDiv+" li[data-markerid="+b+"]").addClass("list-focus"),F.panTo(c.getPosition());var d="left";C.settings.bounceMarker===!0?(c.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){c.setAnimation(null),C.createInfowindow(c,d,G,y,l)},700)):C.createInfowindow(c,d,G,y,l)}),a(c).on("click","."+C.settings.listDiv+" li a",function(a){a.stopPropagation()}),a("."+C.settings.listDiv+" ul li:even").css("background","#"+C.settings.listColor1),a("."+C.settings.listDiv+" ul li:odd").css("background","#"+C.settings.listColor2)})},taxonomyFiltering:function(){var b=this;a.each(this.settings.taxonomyFilters,function(a){x[a]=[]}),a(".bh-sl-filters-container").on("change","input, select",function(c){c.stopPropagation();var d,e,f;if(a(this).is('input[type="checkbox"]')){if(b.checkFilters(),d=a(this).val(),e=a(this).closest(".bh-sl-filters").attr("id"),f=b.getFilterKey(e))if(a(this).prop("checked"))x[f].push(d),a("#"+b.settings.mapDiv).hasClass("bh-sl-map-open")===!0&&(b.reset(),o&&p?(b.settings.mapSettings.zoom=0,b.processForm()):b.mapping());else{var g=x[f].indexOf(d);g>-1&&(x[f].splice(g,1),a("#"+b.settings.mapDiv).hasClass("bh-sl-map-open")===!0&&(b.reset(),o&&p?(b.settings.mapSettings.zoom=0===b.countFilters()?l:0,b.processForm()):b.mapping()))}}else(a(this).is("select")||a(this).is('input[type="radio"]'))&&(b.checkFilters(),d=a(this).val(),e=a(this).closest(".bh-sl-filters").attr("id"),f=b.getFilterKey(e),d?f&&(x[f]=[d],a("#"+b.settings.mapDiv).hasClass("bh-sl-map-open")===!0&&(b.reset(),o&&p?(b.settings.mapSettings.zoom=0,b.processForm()):b.mapping())):(f&&(x[f]=[]),b.reset(),o&&p?(b.settings.mapSettings.zoom=l,b.processForm()):b.mapping()))})}}),a.fn[e]=function(b){return this.each(function(){f=a(this),a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))}),this}}}(jQuery,window,document);